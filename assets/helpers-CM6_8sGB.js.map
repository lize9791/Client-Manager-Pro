{"version":3,"file":"helpers-CM6_8sGB.js","sources":["../../src/utils/helpers.ts"],"sourcesContent":["/**\n * 格式化日期\n */\nexport function formatDate(date: string | Date, format: string = 'YYYY-MM-DD'): string {\n  const d = typeof date === 'string' ? new Date(date) : date\n\n  const year = d.getFullYear()\n  const month = String(d.getMonth() + 1).padStart(2, '0')\n  const day = String(d.getDate()).padStart(2, '0')\n  const hours = String(d.getHours()).padStart(2, '0')\n  const minutes = String(d.getMinutes()).padStart(2, '0')\n  const seconds = String(d.getSeconds()).padStart(2, '0')\n\n  return format\n    .replace('YYYY', String(year))\n    .replace('MM', month)\n    .replace('DD', day)\n    .replace('HH', hours)\n    .replace('mm', minutes)\n    .replace('ss', seconds)\n}\n\n/**\n * 格式化文件大小\n */\nexport function formatFileSize(bytes: number): string {\n  if (bytes === 0) return '0 B'\n\n  const k = 1024\n  const sizes = ['B', 'KB', 'MB', 'GB']\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n\n  return `${(bytes / Math.pow(k, i)).toFixed(2)} ${sizes[i]}`\n}\n\n/**\n * 验证邮箱\n */\nexport function validateEmail(email: string): boolean {\n  const re = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n  return re.test(email)\n}\n\n/**\n * 验证手机号\n */\nexport function validatePhone(phone: string): boolean {\n  // 支持国际格式和中国手机号\n  const re = /^[\\d\\s\\-+()]+$/\n  return re.test(phone) && phone.replace(/\\D/g, '').length >= 7\n}\n\n/**\n * 生成随机 ID\n */\nexport function generateId(prefix: string = ''): string {\n  const timestamp = Date.now().toString(36)\n  const random = Math.random().toString(36).substring(2, 8)\n  return `${prefix}${timestamp}${random}`\n}\n\n/**\n * 防抖函数\n */\nexport function debounce<T extends (...args: any[]) => any>(\n  func: T,\n  wait: number\n): (...args: Parameters<T>) => void {\n  let timeout: ReturnType<typeof setTimeout> | null = null\n\n  return function (this: any, ...args: Parameters<T>) {\n    if (timeout) clearTimeout(timeout)\n    timeout = setTimeout(() => func.apply(this, args), wait)\n  }\n}\n\n/**\n * 节流函数\n */\nexport function throttle<T extends (...args: any[]) => any>(\n  func: T,\n  wait: number\n): (...args: Parameters<T>) => void {\n  let timeout: ReturnType<typeof setTimeout> | null = null\n  let previous = 0\n\n  return function (this: any, ...args: Parameters<T>) {\n    const now = Date.now()\n    const remaining = wait - (now - previous)\n\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout)\n        timeout = null\n      }\n      previous = now\n      func.apply(this, args)\n    } else if (!timeout) {\n      timeout = setTimeout(() => {\n        previous = Date.now()\n        timeout = null\n        func.apply(this, args)\n      }, remaining)\n    }\n  }\n}\n\n/**\n * 深拷贝\n */\nexport function deepClone<T>(obj: T): T {\n  if (obj === null || typeof obj !== 'object') return obj\n  if (obj instanceof Date) return new Date(obj.getTime()) as any\n  if (obj instanceof Array) return obj.map(item => deepClone(item)) as any\n  if (obj instanceof Object) {\n    const clonedObj: any = {}\n    for (const key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        clonedObj[key] = deepClone(obj[key])\n      }\n    }\n    return clonedObj\n  }\n  return obj\n}\n\n/**\n * 下载文件\n */\nexport function downloadFile(content: string, fileName: string, mimeType: string = 'text/plain') {\n  const blob = new Blob([content], { type: mimeType })\n  const url = URL.createObjectURL(blob)\n  const link = document.createElement('a')\n  link.href = url\n  link.download = fileName\n  document.body.appendChild(link)\n  link.click()\n  document.body.removeChild(link)\n  URL.revokeObjectURL(url)\n}\n\n/**\n * 从 URL 下载文件\n */\nexport function downloadFromUrl(url: string, fileName: string) {\n  const link = document.createElement('a')\n  link.href = url\n  link.download = fileName\n  link.target = '_blank'\n  document.body.appendChild(link)\n  link.click()\n  document.body.removeChild(link)\n}\n\n/**\n * 获取客户状态标签\n */\nexport function getStatusLabel(status: string): string {\n  const statusMap: Record<string, string> = {\n    sample_won: '样品已成交',\n    negotiating: '洽谈中',\n    in_production: '排产中',\n    completed: '已完成',\n    new_round: '新一轮洽谈',\n    won_by_others: '已被他人成交',\n    potential: '潜在客户',\n    high_value: '高价值客户',\n    no_response: '无回复',\n    not_executable: '不可执行',\n    low_priority: '低优先级'\n  }\n  return statusMap[status] || status\n}\n\n/**\n * 获取客户状态类型（用于 Tag 颜色）\n */\nexport function getStatusType(status: string): 'success' | 'info' | 'warning' | 'error' | 'default' {\n  const typeMap: Record<string, 'success' | 'info' | 'warning' | 'error' | 'default'> = {\n    sample_won: 'success',\n    negotiating: 'info',\n    in_production: 'warning',\n    completed: 'success',\n    new_round: 'info',\n    won_by_others: 'error',\n    potential: 'default',\n    high_value: 'success',\n    no_response: 'warning',\n    not_executable: 'error',\n    low_priority: 'default'\n  }\n  return typeMap[status] || 'default'\n}\n\n/**\n * 获取订单状态标签\n */\nexport function getOrderStatusLabel(status: string): string {\n  const statusMap: Record<string, string> = {\n    pending: '待确认',\n    confirmed: '已确认',\n    production: '生产中',\n    shipped: '已发货',\n    completed: '已完成',\n    cancelled: '已取消'\n  }\n  return statusMap[status] || status\n}\n\n/**\n * 获取订单状态类型\n */\nexport function getOrderStatusType(status: string): 'success' | 'info' | 'warning' | 'error' | 'default' {\n  const typeMap: Record<string, 'success' | 'info' | 'warning' | 'error' | 'default'> = {\n    pending: 'warning',\n    confirmed: 'info',\n    production: 'warning',\n    shipped: 'info',\n    completed: 'success',\n    cancelled: 'error'\n  }\n  return typeMap[status] || 'default'\n}\n\n/**\n * 获取客户来源标签\n */\nexport function getSourceLabel(source: string): string {\n  const sourceMap: Record<string, string> = {\n    website: '网站',\n    email: '邮件',\n    exhibition: '展会',\n    referral: '转介绍',\n    cold_call: '电话营销',\n    social_media: '社交媒体',\n    other: '其他'\n  }\n  return sourceMap[source] || source\n}\n\n/**\n * 获取跟进方式标签\n */\nexport function getMethodLabel(method: string): string {\n  const methodMap: Record<string, string> = {\n    email: '邮件',\n    phone: '电话',\n    whatsapp: 'WhatsApp',\n    wechat: '微信',\n    meeting: '会议',\n    other: '其他'\n  }\n  return methodMap[method] || method\n}\n\n"],"names":["formatDate","date","format","d","year","month","day","hours","minutes","seconds","validateEmail","email","validatePhone","phone","debounce","func","wait","timeout","args","getStatusLabel","status","getStatusType","getOrderStatusLabel","getOrderStatusType","getSourceLabel","source","getMethodLabel","method"],"mappings":"AAGO,SAASA,EAAWC,EAAqBC,EAAiB,aAAsB,CACrF,MAAMC,EAAI,OAAOF,GAAS,SAAW,IAAI,KAAKA,CAAI,EAAIA,EAEhDG,EAAOD,EAAE,YAAA,EACTE,EAAQ,OAAOF,EAAE,SAAA,EAAa,CAAC,EAAE,SAAS,EAAG,GAAG,EAChDG,EAAM,OAAOH,EAAE,QAAA,CAAS,EAAE,SAAS,EAAG,GAAG,EACzCI,EAAQ,OAAOJ,EAAE,SAAA,CAAU,EAAE,SAAS,EAAG,GAAG,EAC5CK,EAAU,OAAOL,EAAE,WAAA,CAAY,EAAE,SAAS,EAAG,GAAG,EAChDM,EAAU,OAAON,EAAE,WAAA,CAAY,EAAE,SAAS,EAAG,GAAG,EAEtD,OAAOD,EACJ,QAAQ,OAAQ,OAAOE,CAAI,CAAC,EAC5B,QAAQ,KAAMC,CAAK,EACnB,QAAQ,KAAMC,CAAG,EACjB,QAAQ,KAAMC,CAAK,EACnB,QAAQ,KAAMC,CAAO,EACrB,QAAQ,KAAMC,CAAO,CAC1B,CAkBO,SAASC,EAAcC,EAAwB,CAEpD,MADW,6BACD,KAAKA,CAAK,CACtB,CAKO,SAASC,EAAcC,EAAwB,CAGpD,MADW,iBACD,KAAKA,CAAK,GAAKA,EAAM,QAAQ,MAAO,EAAE,EAAE,QAAU,CAC9D,CAcO,SAASC,EACdC,EACAC,EACkC,CAClC,IAAIC,EAAgD,KAEpD,OAAO,YAAwBC,EAAqB,CAC9CD,gBAAsBA,CAAO,EACjCA,EAAU,WAAW,IAAMF,EAAK,MAAM,KAAMG,CAAI,EAAGF,CAAI,CACzD,CACF,CAmFO,SAASG,EAAeC,EAAwB,CAcrD,MAb0C,CACxC,WAAY,QACZ,YAAa,MACb,cAAe,MACf,UAAW,MACX,UAAW,QACX,cAAe,SACf,UAAW,OACX,WAAY,QACZ,YAAa,MACb,eAAgB,OAChB,aAAc,MAAA,EAECA,CAAM,GAAKA,CAC9B,CAKO,SAASC,EAAcD,EAAsE,CAclG,MAbsF,CACpF,WAAY,UACZ,YAAa,OACb,cAAe,UACf,UAAW,UACX,UAAW,OACX,cAAe,QACf,UAAW,UACX,WAAY,UACZ,YAAa,UACb,eAAgB,QAChB,aAAc,SAAA,EAEDA,CAAM,GAAK,SAC5B,CAKO,SAASE,EAAoBF,EAAwB,CAS1D,MAR0C,CACxC,QAAS,MACT,UAAW,MACX,WAAY,MACZ,QAAS,MACT,UAAW,MACX,UAAW,KAAA,EAEIA,CAAM,GAAKA,CAC9B,CAKO,SAASG,EAAmBH,EAAsE,CASvG,MARsF,CACpF,QAAS,UACT,UAAW,OACX,WAAY,UACZ,QAAS,OACT,UAAW,UACX,UAAW,OAAA,EAEEA,CAAM,GAAK,SAC5B,CAKO,SAASI,EAAeC,EAAwB,CAUrD,MAT0C,CACxC,QAAS,KACT,MAAO,KACP,WAAY,KACZ,SAAU,MACV,UAAW,OACX,aAAc,OACd,MAAO,IAAA,EAEQA,CAAM,GAAKA,CAC9B,CAKO,SAASC,EAAeC,EAAwB,CASrD,MAR0C,CACxC,MAAO,KACP,MAAO,KACP,SAAU,WACV,OAAQ,KACR,QAAS,KACT,MAAO,IAAA,EAEQA,CAAM,GAAKA,CAC9B"}