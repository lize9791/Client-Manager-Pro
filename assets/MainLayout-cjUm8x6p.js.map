{"version":3,"file":"MainLayout-cjUm8x6p.js","sources":["../../node_modules/@vicons/ionicons5/es/HomeOutline.js","../../node_modules/@vicons/ionicons5/es/LogOutOutline.js","../../node_modules/@vicons/ionicons5/es/PersonCircleOutline.js","../../node_modules/@vicons/ionicons5/es/SettingsOutline.js","../../src/stores/followup.ts","../../src/layouts/MainLayout.vue"],"sourcesContent":["import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 512 512'\n}\nexport default defineComponent({\n  name: 'HomeOutline',\n  render: function render(_ctx, _cache) {\n    return (\n      _openBlock(),\n      _createElementBlock(\n        'svg',\n        _hoisted_1,\n        _cache[0] ||\n          (_cache[0] = [\n            _createElementVNode(\n              'path',\n              {\n                d: 'M80 212v236a16 16 0 0 0 16 16h96V328a24 24 0 0 1 24-24h80a24 24 0 0 1 24 24v136h96a16 16 0 0 0 16-16V212',\n                fill: 'none',\n                stroke: 'currentColor',\n                'stroke-linecap': 'round',\n                'stroke-linejoin': 'round',\n                'stroke-width': '32'\n              },\n              null,\n              -1 /* HOISTED */\n            ),\n            _createElementVNode(\n              'path',\n              {\n                d: 'M480 256L266.89 52c-5-5.28-16.69-5.34-21.78 0L32 256',\n                fill: 'none',\n                stroke: 'currentColor',\n                'stroke-linecap': 'round',\n                'stroke-linejoin': 'round',\n                'stroke-width': '32'\n              },\n              null,\n              -1 /* HOISTED */\n            ),\n            _createElementVNode(\n              'path',\n              {\n                fill: 'none',\n                stroke: 'currentColor',\n                'stroke-linecap': 'round',\n                'stroke-linejoin': 'round',\n                'stroke-width': '32',\n                d: 'M400 179V64h-48v69'\n              },\n              null,\n              -1 /* HOISTED */\n            )\n          ])\n      )\n    )\n  }\n})\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 512 512'\n}\nexport default defineComponent({\n  name: 'LogOutOutline',\n  render: function render(_ctx, _cache) {\n    return (\n      _openBlock(),\n      _createElementBlock(\n        'svg',\n        _hoisted_1,\n        _cache[0] ||\n          (_cache[0] = [\n            _createElementVNode(\n              'path',\n              {\n                d: 'M304 336v40a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V136a40 40 0 0 1 40-40h152c22.09 0 48 17.91 48 40v40',\n                fill: 'none',\n                stroke: 'currentColor',\n                'stroke-linecap': 'round',\n                'stroke-linejoin': 'round',\n                'stroke-width': '32'\n              },\n              null,\n              -1 /* HOISTED */\n            ),\n            _createElementVNode(\n              'path',\n              {\n                fill: 'none',\n                stroke: 'currentColor',\n                'stroke-linecap': 'round',\n                'stroke-linejoin': 'round',\n                'stroke-width': '32',\n                d: 'M368 336l80-80l-80-80'\n              },\n              null,\n              -1 /* HOISTED */\n            ),\n            _createElementVNode(\n              'path',\n              {\n                fill: 'none',\n                stroke: 'currentColor',\n                'stroke-linecap': 'round',\n                'stroke-linejoin': 'round',\n                'stroke-width': '32',\n                d: 'M176 256h256'\n              },\n              null,\n              -1 /* HOISTED */\n            )\n          ])\n      )\n    )\n  }\n})\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 512 512'\n}\nexport default defineComponent({\n  name: 'PersonCircleOutline',\n  render: function render(_ctx, _cache) {\n    return (\n      _openBlock(),\n      _createElementBlock(\n        'svg',\n        _hoisted_1,\n        _cache[0] ||\n          (_cache[0] = [\n            _createElementVNode(\n              'path',\n              {\n                d: 'M258.9 48C141.92 46.42 46.42 141.92 48 258.9c1.56 112.19 92.91 203.54 205.1 205.1c117 1.6 212.48-93.9 210.88-210.88C462.44 140.91 371.09 49.56 258.9 48zm126.42 327.25a4 4 0 0 1-6.14-.32a124.27 124.27 0 0 0-32.35-29.59C321.37 329 289.11 320 256 320s-65.37 9-90.83 25.34a124.24 124.24 0 0 0-32.35 29.58a4 4 0 0 1-6.14.32A175.32 175.32 0 0 1 80 259c-1.63-97.31 78.22-178.76 175.57-179S432 158.81 432 256a175.32 175.32 0 0 1-46.68 119.25z',\n                fill: 'currentColor'\n              },\n              null,\n              -1 /* HOISTED */\n            ),\n            _createElementVNode(\n              'path',\n              {\n                d: 'M256 144c-19.72 0-37.55 7.39-50.22 20.82s-19 32-17.57 51.93C191.11 256 221.52 288 256 288s64.83-32 67.79-71.24c1.48-19.74-4.8-38.14-17.68-51.82C293.39 151.44 275.59 144 256 144z',\n                fill: 'currentColor'\n              },\n              null,\n              -1 /* HOISTED */\n            )\n          ])\n      )\n    )\n  }\n})\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 512 512'\n}\nexport default defineComponent({\n  name: 'SettingsOutline',\n  render: function render(_ctx, _cache) {\n    return (\n      _openBlock(),\n      _createElementBlock(\n        'svg',\n        _hoisted_1,\n        _cache[0] ||\n          (_cache[0] = [\n            _createElementVNode(\n              'path',\n              {\n                d: 'M262.29 192.31a64 64 0 1 0 57.4 57.4a64.13 64.13 0 0 0-57.4-57.4zM416.39 256a154.34 154.34 0 0 1-1.53 20.79l45.21 35.46a10.81 10.81 0 0 1 2.45 13.75l-42.77 74a10.81 10.81 0 0 1-13.14 4.59l-44.9-18.08a16.11 16.11 0 0 0-15.17 1.75A164.48 164.48 0 0 1 325 400.8a15.94 15.94 0 0 0-8.82 12.14l-6.73 47.89a11.08 11.08 0 0 1-10.68 9.17h-85.54a11.11 11.11 0 0 1-10.69-8.87l-6.72-47.82a16.07 16.07 0 0 0-9-12.22a155.3 155.3 0 0 1-21.46-12.57a16 16 0 0 0-15.11-1.71l-44.89 18.07a10.81 10.81 0 0 1-13.14-4.58l-42.77-74a10.8 10.8 0 0 1 2.45-13.75l38.21-30a16.05 16.05 0 0 0 6-14.08c-.36-4.17-.58-8.33-.58-12.5s.21-8.27.58-12.35a16 16 0 0 0-6.07-13.94l-38.19-30A10.81 10.81 0 0 1 49.48 186l42.77-74a10.81 10.81 0 0 1 13.14-4.59l44.9 18.08a16.11 16.11 0 0 0 15.17-1.75A164.48 164.48 0 0 1 187 111.2a15.94 15.94 0 0 0 8.82-12.14l6.73-47.89A11.08 11.08 0 0 1 213.23 42h85.54a11.11 11.11 0 0 1 10.69 8.87l6.72 47.82a16.07 16.07 0 0 0 9 12.22a155.3 155.3 0 0 1 21.46 12.57a16 16 0 0 0 15.11 1.71l44.89-18.07a10.81 10.81 0 0 1 13.14 4.58l42.77 74a10.8 10.8 0 0 1-2.45 13.75l-38.21 30a16.05 16.05 0 0 0-6.05 14.08c.33 4.14.55 8.3.55 12.47z',\n                fill: 'none',\n                stroke: 'currentColor',\n                'stroke-linecap': 'round',\n                'stroke-linejoin': 'round',\n                'stroke-width': '32'\n              },\n              null,\n              -1 /* HOISTED */\n            )\n          ])\n      )\n    )\n  }\n})\n","import { defineStore } from 'pinia'\nimport { ref } from 'vue'\nimport { supabase, TABLES } from '@/utils/supabase'\nimport type { Followup } from '@/types'\nimport { useAuthStore } from './auth'\n\nexport const useFollowupStore = defineStore('followup', () => {\n  const followups = ref<Followup[]>([])\n  const loading = ref(false)\n\n  const authStore = useAuthStore()\n\n  /**\n   * 获取跟进记录列表\n   */\n  async function fetchFollowups(customerId?: string): Promise<void> {\n    loading.value = true\n    try {\n      let query = supabase\n        .from(TABLES.FOLLOWUPS)\n        .select('*, follower:users!follower_id(id, email, name), customer:customers(id, code, company)')\n\n      if (customerId) {\n        query = query.eq('customer_id', customerId)\n      }\n\n      const { data, error } = await query.order('follow_date', { ascending: false })\n\n      if (error) throw error\n\n      followups.value = data || []\n    } catch (error) {\n      console.error('Failed to fetch followups:', error)\n      throw error\n    } finally {\n      loading.value = false\n    }\n  }\n\n  /**\n   * 创建跟进记录\n   */\n  async function createFollowup(followup: Partial<Followup>): Promise<Followup | null> {\n    loading.value = true\n    try {\n      // 自动设置跟进人为当前用户\n      const newFollowup = {\n        ...followup,\n        follower_id: followup.follower_id || authStore.user?.id\n      }\n\n      const { data, error } = await supabase\n        .from(TABLES.FOLLOWUPS)\n        .insert(newFollowup)\n        .select('*, follower:users!follower_id(id, email, name), customer:customers(id, code, company)')\n        .single()\n\n      if (error) throw error\n\n      followups.value.unshift(data)\n\n      // 更新客户的最后跟进日期\n      if (followup.customer_id) {\n        await supabase\n          .from(TABLES.CUSTOMERS)\n          .update({ last_follow_date: followup.follow_date })\n          .eq('id', followup.customer_id)\n      }\n\n      return data\n    } catch (error) {\n      console.error('Failed to create followup:', error)\n      throw error\n    } finally {\n      loading.value = false\n    }\n  }\n\n  /**\n   * 更新跟进记录\n   */\n  async function updateFollowup(id: string, updates: Partial<Followup>): Promise<boolean> {\n    loading.value = true\n    try {\n      const { data, error } = await supabase\n        .from(TABLES.FOLLOWUPS)\n        .update(updates)\n        .eq('id', id)\n        .select('*, follower:users!follower_id(id, email, name), customer:customers(id, code, company)')\n        .single()\n\n      if (error) throw error\n\n      const index = followups.value.findIndex(f => f.id === id)\n      if (index !== -1) {\n        followups.value[index] = data\n      }\n\n      return true\n    } catch (error) {\n      console.error('Failed to update followup:', error)\n      throw error\n    } finally {\n      loading.value = false\n    }\n  }\n\n  /**\n   * 删除跟进记录\n   */\n  async function deleteFollowup(id: string): Promise<boolean> {\n    loading.value = true\n    try {\n      const { error } = await supabase.from(TABLES.FOLLOWUPS).delete().eq('id', id)\n\n      if (error) throw error\n\n      followups.value = followups.value.filter(f => f.id !== id)\n\n      return true\n    } catch (error) {\n      console.error('Failed to delete followup:', error)\n      throw error\n    } finally {\n      loading.value = false\n    }\n  }\n\n  /**\n   * 获取需要提醒的跟进记录\n   */\n  async function fetchPendingReminders(): Promise<Followup[]> {\n    try {\n      const today = new Date().toISOString().split('T')[0]\n\n      const { data, error } = await supabase\n        .from(TABLES.FOLLOWUPS)\n        .select('*, follower:users!follower_id(id, email, name), customer:customers(id, code, company)')\n        .lte('remind_at', today)\n        .not('remind_at', 'is', null)\n        .order('remind_at', { ascending: true })\n\n      if (error) throw error\n\n      return data || []\n    } catch (error) {\n      console.error('Failed to fetch pending reminders:', error)\n      return []\n    }\n  }\n\n  return {\n    followups,\n    loading,\n    fetchFollowups,\n    createFollowup,\n    updateFollowup,\n    deleteFollowup,\n    fetchPendingReminders\n  }\n})\n","<template>\n  <n-layout has-sider style=\"height: 100vh\">\n    <n-layout-sider\n      bordered\n      collapse-mode=\"width\"\n      :collapsed-width=\"64\"\n      :width=\"240\"\n      :collapsed=\"collapsed\"\n      show-trigger\n      @collapse=\"collapsed = true\"\n      @expand=\"collapsed = false\"\n    >\n      <div class=\"logo\">\n        <h2 v-if=\"!collapsed\">客户管理系统</h2>\n        <h2 v-else>CRM</h2>\n      </div>\n      <n-menu\n        :collapsed=\"collapsed\"\n        :collapsed-width=\"64\"\n        :collapsed-icon-size=\"22\"\n        :options=\"menuOptions\"\n        :value=\"activeKey\"\n        @update:value=\"handleMenuSelect\"\n      />\n    </n-layout-sider>\n\n    <n-layout>\n      <n-layout-header bordered style=\"height: 64px; padding: 0 24px; display: flex; align-items: center; justify-content: space-between;\">\n        <div style=\"display: flex; align-items: center; gap: 16px;\">\n          <n-input\n            v-model:value=\"searchKeyword\"\n            placeholder=\"搜索客户...\"\n            clearable\n            style=\"width: 300px;\"\n            @keyup.enter=\"handleSearch\"\n          >\n            <template #prefix>\n              <n-icon :component=\"SearchOutline\" />\n            </template>\n          </n-input>\n          <n-button type=\"primary\" @click=\"showAddCustomer = true\">\n            <template #icon>\n              <n-icon :component=\"AddOutline\" />\n            </template>\n            新增客户\n          </n-button>\n        </div>\n\n        <div style=\"display: flex; align-items: center; gap: 16px;\">\n          <n-badge :value=\"reminders.length\" :max=\"99\">\n            <n-button circle quaternary @click=\"showReminders = true\">\n              <template #icon>\n                <n-icon :component=\"NotificationsOutline\" />\n              </template>\n            </n-button>\n          </n-badge>\n\n          <n-dropdown :options=\"userMenuOptions\" @select=\"handleUserMenuSelect\">\n            <n-button text style=\"font-size: 14px;\">\n              <template #icon>\n                <n-icon :component=\"PersonCircleOutline\" />\n              </template>\n              {{ authStore.user?.name || authStore.user?.email }}\n            </n-button>\n          </n-dropdown>\n        </div>\n      </n-layout-header>\n\n      <n-layout-content content-style=\"padding: 24px;\" :native-scrollbar=\"false\">\n        <router-view />\n      </n-layout-content>\n    </n-layout>\n\n    <!-- 新增客户弹窗 -->\n    <customer-form-modal v-model:show=\"showAddCustomer\" @success=\"handleCustomerAdded\" />\n\n    <!-- 提醒抽屉 -->\n    <n-drawer v-model:show=\"showReminders\" :width=\"400\" placement=\"right\">\n      <n-drawer-content title=\"待办提醒\" closable>\n        <n-empty v-if=\"reminders.length === 0\" description=\"暂无待办提醒\" />\n        <n-list v-else>\n          <n-list-item v-for=\"reminder in reminders\" :key=\"reminder.id\">\n            <n-thing :title=\"reminder.customer?.company || '未知客户'\">\n              <template #description>\n                <n-space vertical size=\"small\">\n                  <span>{{ reminder.content }}</span>\n                  <n-tag size=\"small\" type=\"warning\">\n                    提醒时间: {{ formatDate(reminder.remind_at!) }}\n                  </n-tag>\n                </n-space>\n              </template>\n            </n-thing>\n          </n-list-item>\n        </n-list>\n      </n-drawer-content>\n    </n-drawer>\n  </n-layout>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, h, onMounted } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport {\n  NLayout,\n  NLayoutSider,\n  NLayoutHeader,\n  NLayoutContent,\n  NMenu,\n  NInput,\n  NButton,\n  NIcon,\n  NBadge,\n  NDropdown,\n  NDrawer,\n  NDrawerContent,\n  NList,\n  NListItem,\n  NThing,\n  NSpace,\n  NTag,\n  NEmpty\n} from 'naive-ui'\nimport {\n  HomeOutline,\n  PeopleOutline,\n  DocumentTextOutline,\n  StatsChartOutline,\n  SettingsOutline,\n  SearchOutline,\n  AddOutline,\n  NotificationsOutline,\n  PersonCircleOutline,\n  LogOutOutline\n} from '@vicons/ionicons5'\nimport { useAuthStore } from '@/stores/auth'\nimport { useFollowupStore } from '@/stores/followup'\nimport { formatDate } from '@/utils/helpers'\nimport CustomerFormModal from '@/components/CustomerFormModal.vue'\n\nconst router = useRouter()\nconst route = useRoute()\nconst authStore = useAuthStore()\nconst followupStore = useFollowupStore()\n\nconst collapsed = ref(false)\nconst searchKeyword = ref('')\nconst showAddCustomer = ref(false)\nconst showReminders = ref(false)\nconst reminders = ref<any[]>([])\n\nconst activeKey = computed(() => route.name as string)\n\nconst menuOptions = computed(() => {\n  const options = [\n    {\n      label: '仪表盘',\n      key: 'Dashboard',\n      icon: () => h(NIcon, null, { default: () => h(HomeOutline) })\n    },\n    {\n      label: '客户管理',\n      key: 'Customers',\n      icon: () => h(NIcon, null, { default: () => h(PeopleOutline) })\n    },\n    {\n      label: '订单管理',\n      key: 'Orders',\n      icon: () => h(NIcon, null, { default: () => h(DocumentTextOutline) })\n    },\n    {\n      label: '统计报表',\n      key: 'Reports',\n      icon: () => h(NIcon, null, { default: () => h(StatsChartOutline) })\n    }\n  ]\n\n  if (authStore.isAdmin) {\n    options.push({\n      label: '系统设置',\n      key: 'Settings',\n      icon: () => h(NIcon, null, { default: () => h(SettingsOutline) })\n    })\n  }\n\n  return options\n})\n\nconst userMenuOptions = [\n  {\n    label: '退出登录',\n    key: 'logout',\n    icon: () => h(NIcon, null, { default: () => h(LogOutOutline) })\n  }\n]\n\nfunction handleMenuSelect(key: string) {\n  router.push({ name: key })\n}\n\nfunction handleSearch() {\n  if (searchKeyword.value) {\n    router.push({ name: 'Customers', query: { keyword: searchKeyword.value } })\n  }\n}\n\nfunction handleUserMenuSelect(key: string) {\n  if (key === 'logout') {\n    authStore.signOut()\n    router.push({ name: 'Login' })\n  }\n}\n\nfunction handleCustomerAdded() {\n  showAddCustomer.value = false\n  if (route.name === 'Customers') {\n    router.go(0) // 刷新页面\n  }\n}\n\nasync function loadReminders() {\n  reminders.value = await followupStore.fetchPendingReminders()\n}\n\nonMounted(() => {\n  loadReminders()\n  // 每5分钟刷新一次提醒\n  setInterval(loadReminders, 5 * 60 * 1000)\n})\n</script>\n\n<style scoped>\n.logo {\n  height: 64px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-bottom: 1px solid #f0f0f0;\n}\n\n.logo h2 {\n  font-size: 18px;\n  font-weight: 600;\n  color: #18a058;\n  margin: 0;\n}\n</style>\n"],"names":["_hoisted_1","HomeOutline","defineComponent","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","LogOutOutline","PersonCircleOutline","SettingsOutline","useFollowupStore","defineStore","followups","ref","loading","authStore","useAuthStore","fetchFollowups","customerId","query","supabase","TABLES","data","error","createFollowup","followup","newFollowup","updateFollowup","id","updates","index","f","deleteFollowup","fetchPendingReminders","today","router","useRouter","route","useRoute","followupStore","collapsed","searchKeyword","showAddCustomer","showReminders","reminders","activeKey","computed","menuOptions","options","h","NIcon","PeopleOutline","DocumentTextOutline","StatsChartOutline","userMenuOptions","handleMenuSelect","key","handleSearch","handleUserMenuSelect","handleCustomerAdded","loadReminders","onMounted","_createBlock","_unref","NLayout","_createVNode","NLayoutSider","NMenu","NLayoutHeader","_hoisted_4","NInput","$event","SearchOutline","NButton","AddOutline","_hoisted_5","NBadge","NotificationsOutline","NDropdown","_toDisplayString","NLayoutContent","_component_router_view","CustomerFormModal","NDrawer","NDrawerContent","NEmpty","NList","_Fragment","_renderList","reminder","NListItem","NThing","NSpace","NTag","_createTextVNode","formatDate"],"mappings":"g1BACA,MAAMA,GAAa,CACjB,MAAO,6BACP,cAAe,+BACf,QAAS,aACX,EACAC,GAAeC,EAAgB,CAC7B,KAAM,cACN,OAAQ,SAAgBC,EAAMC,EAAQ,CACpC,OACEC,EAAU,EACVC,EACE,MACAN,GACAI,EAAO,CAAC,IACLA,EAAO,CAAC,EAAI,CACXG,EACE,OACA,CACE,EAAG,2GACH,KAAM,OACN,OAAQ,eACR,iBAAkB,QAClB,kBAAmB,QACnB,eAAgB,IAChC,EACc,KACA,EACd,EACYA,EACE,OACA,CACE,EAAG,uDACH,KAAM,OACN,OAAQ,eACR,iBAAkB,QAClB,kBAAmB,QACnB,eAAgB,IAChC,EACc,KACA,EACd,EACYA,EACE,OACA,CACE,KAAM,OACN,OAAQ,eACR,iBAAkB,QAClB,kBAAmB,QACnB,eAAgB,KAChB,EAAG,oBACnB,EACc,KACA,EACd,CACA,EACA,CAEE,CACF,CAAC,EC1DKP,GAAa,CACjB,MAAO,6BACP,cAAe,+BACf,QAAS,aACX,EACAQ,GAAeN,EAAgB,CAC7B,KAAM,gBACN,OAAQ,SAAgBC,EAAMC,EAAQ,CACpC,OACEC,EAAU,EACVC,EACE,MACAN,GACAI,EAAO,CAAC,IACLA,EAAO,CAAC,EAAI,CACXG,EACE,OACA,CACE,EAAG,0GACH,KAAM,OACN,OAAQ,eACR,iBAAkB,QAClB,kBAAmB,QACnB,eAAgB,IAChC,EACc,KACA,EACd,EACYA,EACE,OACA,CACE,KAAM,OACN,OAAQ,eACR,iBAAkB,QAClB,kBAAmB,QACnB,eAAgB,KAChB,EAAG,uBACnB,EACc,KACA,EACd,EACYA,EACE,OACA,CACE,KAAM,OACN,OAAQ,eACR,iBAAkB,QAClB,kBAAmB,QACnB,eAAgB,KAChB,EAAG,cACnB,EACc,KACA,EACd,CACA,EACA,CAEE,CACF,CAAC,EC1DKP,GAAa,CACjB,MAAO,6BACP,cAAe,+BACf,QAAS,aACX,EACAS,GAAeP,EAAgB,CAC7B,KAAM,sBACN,OAAQ,SAAgBC,EAAMC,EAAQ,CACpC,OACEC,EAAU,EACVC,EACE,MACAN,GACAI,EAAO,CA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","x_google_ignoreList":[0,1,2,3]}