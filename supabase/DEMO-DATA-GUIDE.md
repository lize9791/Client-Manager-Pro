# 📊 演示数据导入指南

## ✅ 新版 demo-data.sql 已生成

我已经重新生成了完全匹配最新表结构的演示数据文件。

### 📦 包含内容

- **30 条客户数据**
  - 涵盖所有状态：new, contacted, quoted, negotiating, won, lost
  - 来自全球各地的真实公司和联系人
  - 包含完整的联系方式和备注

- **4-5 个订单**
  - 为所有已成交（won）的客户自动创建
  - 包含利润、状态、订单号等信息

- **20+ 条跟进记录**
  - 随机分配给各个客户
  - 包含各种跟进方式和内容
  - 部分包含提醒时间

---

## 🚀 如何使用

### 步骤 1: 获取你的用户 UUID

在 Supabase SQL Editor 中执行：

```sql
SELECT id, email, role FROM public.users WHERE role = 'admin';
```

复制显示的 `id`（类似：`a1b2c3d4-e5f6-7890-abcd-ef1234567890`）

---

### 步骤 2: 替换占位符

1. 打开 `supabase/demo-data.sql` 文件
2. 使用查找替换功能：
   - **查找**: `YOUR_USER_ID_HERE`
   - **替换为**: 你复制的 UUID
   - 点击"全部替换"

**示例**：
```sql
-- 替换前
'YOUR_USER_ID_HERE'

-- 替换后
'a1b2c3d4-e5f6-7890-abcd-ef1234567890'
```

---

### 步骤 3: 执行脚本

1. 复制整个 `demo-data.sql` 的内容
2. 在 Supabase SQL Editor 中粘贴
3. 点击 "Run"
4. 看到 "🎉 演示数据导入完成！" 即成功

---

## 📊 执行后的结果

脚本会自动显示统计信息：

```
📊 数据统计
- 客户总数: 30
- 订单总数: 4-5
- 跟进记录: 20-25
- 成交客户: 4-5
- 总利润: ~$26,000-30,000
```

---

## 🎯 在前端查看数据

导入完成后：

1. **刷新前端页面**（`Ctrl + Shift + R`）
2. **登录**你的管理员账号
3. **查看仪表盘**：
   - 客户总数: 30
   - 各种统计图表
   - 国家分布、来源分布
4. **查看客户列表**：
   - 点击左侧"客户管理"
   - 可以看到 30 条客户数据
   - 尝试搜索、筛选功能
5. **查看客户详情**：
   - 点击任意客户单号
   - 可以看到订单和跟进记录

---

## 🧹 如何清除演示数据

如果需要删除导入的演示数据，在 SQL Editor 中执行：

```sql
-- 按顺序删除（避免外键错误）
DELETE FROM public.followups
WHERE customer_id IN (
  SELECT id FROM public.customers WHERE code LIKE 'CUS202%'
);

DELETE FROM public.orders
WHERE order_no LIKE 'ORD202%';

DELETE FROM public.customers
WHERE code LIKE 'CUS202%';
```

---

## 💡 数据示例

### 客户样本
- **美国 - ABC Corporation**: LED 灯具，新客户
- **日本 - JKL Industries**: 传感器模块，已成交
- **新加坡 - IJK Pte Ltd**: 智能开关，已成交，订单 $35,000
- **匈牙利 - GHI Kft**: 工业自动化，已成交，大客户 $52,000

### 订单样本
- `ORD20240115XXX` - 传感器模块 - 利润 $3,500
- `ORD20240208XXX` - PLC 控制器 - 利润 $5,600
- `ORD20240305XXX` - 智能开关 - 利润 $7,000
- `ORD20240325XXX` - 工业自动化 - 利润 $10,400

### 跟进记录样本
- 首次联系客户，了解基本需求
- 发送产品目录和价格表
- 讨论技术规格和定制要求
- 确认订单细节，讨论付款方式

---

## ⚠️ 常见问题

### Q: 执行时报错 "violates foreign key constraint"？

**A**: 确保你已经：
1. 正确替换了所有 `YOUR_USER_ID_HERE`
2. 替换的 UUID 确实存在于 `public.users` 表中

### Q: 如何验证替换是否成功？

**A**: 在替换后，搜索文件，确保没有 `YOUR_USER_ID_HERE` 字符串了。

### Q: 可以修改数据吗？

**A**: 当然可以！你可以：
- 修改公司名称、联系人
- 修改产品名称
- 调整日期
- 修改利润金额
- 添加更多客户

---

## 🎉 完成

导入成功后，你将拥有一个功能完整的演示系统，可以：
- ✅ 测试所有 CRUD 功能
- ✅ 查看统计图表
- ✅ 测试搜索和筛选
- ✅ 查看订单和跟进记录
- ✅ 测试导出功能
- ✅ 展示给其他人看

---

**现在开始导入演示数据吧！** 🚀
